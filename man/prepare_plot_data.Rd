% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_data_prep.R
\name{prepare_plot_data}
\alias{prepare_plot_data}
\title{Prepare Complete Plot Data}
\usage{
prepare_plot_data(
  data,
  group_data,
  selected_country,
  question,
  selected_regions = NULL,
  selected_income_groups = NULL,
  custom_countries = NULL
)
}
\arguments{
\item{data}{CPIA dataset (Standard or African Integrity Indicators data)}

\item{group_data}{Group averages dataset (Standard or African Integrity Indicators data)}

\item{selected_country}{Country name to highlight with solid line}

\item{question}{Question column name (e.g., "q12a", "q12b", etc.)}

\item{selected_regions}{Vector of region names (optional, defaults to NULL)}

\item{selected_income_groups}{Vector of income group names (optional, defaults to NULL)}

\item{custom_countries}{Vector of custom country names (optional, defaults to NULL)}
}
\value{
A tibble with columns: economy, year, score, display_name, line_type,
group_type, region, income_group, comparator_category (where applicable).
Arranged chronologically by year, then alphabetically by display_name.
Empty comparator selections return only the selected country data.
}
\description{
Main orchestrator function that combines selected country data with all requested
comparators (regions, income groups, custom countries). This function delegates to
specialized helper functions for each data type and combines the results into a
unified dataset ready for plotting. The selected country gets a solid line while
all comparators get dashed lines.
}
\examples{
\dontrun{
# With regions and custom countries
prepare_plot_data(
  data = cpiaetl::standard_cpia,
  group_data = cpiaetl::group_standard_cpia,
  selected_country = "Kenya",
  question = "q12b",
  selected_regions = c("Africa (AFR)"),
  custom_countries = c("Tanzania", "Uganda")
)
}

}
\keyword{internal}
